{% extends "formbs.html" %}
{% block extraheading %}
    <style>
        #formulary table td input#id_email { text-transform: none; }
    </style>
{% endblock %}
{% block javascript %}
    $("#id_inscripcion").addClass("validate[required]");
    $($("#id_edadpadre").get(0).parentNode).find(".help-text").html("Ingrese solo Numeros.");
    $("#id_edadpadre").addClass("input-large");
    $("#id_estadopadre").addClass("input-large");
    $("#id_telefpadre").addClass("input-large");
{#    $($("#id_telefpadre").get(0).parentNode).find(".help-text").html("Ingrese solo Numeros.");#}
    $("#id_educacionpadre").addClass("input-large");
    $("#id_profesionpadre").addClass("input-large");
    $("#id_trabajopadre").addClass("input-large");


    $($("#id_edadmadre").get(0).parentNode).find(".help-text").html("Ingrese solo Numeros.");
    $("#id_edadmadre").addClass("input-large");
    $("#id_estadomadre").addClass("input-large");
    $("#id_telefmadre").addClass("input-large");
{#    $($("#id_telefmadre").get(0).parentNode).find(".help-text").html("Ingrese solo Numeros.");#}
    $("#id_educacionmadre").addClass("input-large");
    $("#id_profesionmadre").addClass("input-large");
    $("#id_trabajomadre").addClass("input-large");

    $($("#id_edadconyuge").get(0).parentNode).find(".help-text").html("Ingrese solo Numeros.");
    $("#id_edadconyuge").addClass("input-large");
    $("#id_estadoconyuge").addClass("input-large");
{#    $($("#id_telefconyuge").get(0).parentNode).find(".help-text").html("Ingrese solo Numeros.");#}
    $("#id_telefconyuge").addClass("input-large");
    $("#id_educacionconyuge").addClass("input-large");
    $("#id_profesionconyuge").addClass("input-large");
    $("#id_trabajoconyuge").addClass("input-large");

    $($("#id_padre").get(0).parentNode.parentNode).prepend("<h3>DATOS DEL PADRE</h3><br/>");
    $($("#id_madre").get(0).parentNode.parentNode).prepend("<h3>DATOS DE LA MADRE</h3><br/>");
    $($("#id_conyuge").get(0).parentNode.parentNode).prepend("<h3>DATOS DEL CONYUGE</h3><br/>");

    chequeaDiscapacidad = function() {
    if (!$("#id_tienediscapacidad").is(':checked')) {
    $("#id_tipodiscapacidad").attr("disabled", true);
    $("#id_tipodiscapacidad").val("");
    $("#id_porcientodiscapacidad").attr("disabled", true);
    $("#id_porcientodiscapacidad").val("");
    $("#id_carnetdiscapacidad").attr("disabled", true);
    $("#id_carnetdiscapacidad").val("");
    } else {
    $("#id_tipodiscapacidad").attr("disabled", false);
    $("#id_porcientodiscapacidad").attr("disabled", false);
    $("#id_carnetdiscapacidad").attr("disabled", false);
    }
    }

    $("#id_tienediscapacidad").click(chequeaDiscapacidad);
    chequeaDiscapacidad();

    $("#id_edadpadre").blur(function(){
            var v = $("#id_edadpadre").val();
            var p = solo_numeros(v);
            if (p !=0)
            {
              $($("#id_edadpadre").get(0).parentNode).find(".help-text").html("Ingresar solo Numeros");
              $("#id_edadpadre").val("");
              $("#id_edadpadre").focus();
            }
            else{
                $($("#id_edadpadre").get(0).parentNode).find(".help-text").html("");
            }

        });

{#    $("#id_telefpadre").blur(function(){#}
{#            var v = $("#id_telefpadre").val();#}
{#            var p = solo_numeros(v);#}
{#            if (p !=0)#}
{#            {#}
{#              $($("#id_telefpadre").get(0).parentNode).find(".help-text").html("Ingresar solo Numeros");#}
{#              $("#id_telefpadre").val("");#}
{#              $("#id_telefpadre").focus();#}
{#            }#}
{#            else{#}
{#                $($("#id_telefpadre").get(0).parentNode).find(".help-text").html("");#}
{#            }#}
{##}
{#        });#}

    $("#id_edadmadre").blur(function(){
            var v = $("#id_edadmadre").val();
            var p = solo_numeros(v);
            if (p !=0)
            {
              $($("#id_edadmadre").get(0).parentNode).find(".help-text").html("Ingresar solo Numeros");
              $("#id_edadmadre").val("");
              $("#id_edadmadre").focus();
            }
            else{
                $($("#id_edadmadre").get(0).parentNode).find(".help-text").html("");
            }

        });

{#    $("#id_telefmadre").blur(function(){#}
{#            var v = $("#id_telefmadre").val();#}
{#            var p = solo_numeros(v);#}
{#            if (p !=0)#}
{#            {#}
{#              $($("#id_telefmadre").get(0).parentNode).find(".help-text").html("Ingresar solo Numeros");#}
{#              $("#id_telefmadre").val("");#}
{#              $("#id_telefmadre").focus();#}
{#            }#}
{#            else{#}
{#                $($("#id_telefmadre").get(0).parentNode).find(".help-text").html("");#}
{#            }#}
{##}
{#        });#}

    $("#id_edadconyuge").blur(function(){
            var v = $("#id_edadconyuge").val();
            var p = solo_numeros(v);
            if (p !=0)
            {
              $($("#id_edadconyuge").get(0).parentNode).find(".help-text").html("Ingresar solo Numeros");
              $("#id_edadconyuge").val("");
              $("#id_edadconyuge").focus();
            }
            else{
                $($("#id_edadconyuge").get(0).parentNode).find(".help-text").html("");
            }

        });

{#    $("#id_telefconyuge").blur(function(){#}
{#            var v = $("#id_telefconyuge").val();#}
{#            var p = solo_numeros(v);#}
{#            if (p !=0)#}
{#            {#}
{#              $($("#id_telefconyuge").get(0).parentNode).find(".help-text").html("Ingresar solo Numeros");#}
{#              $("#id_telefconyuge").val("");#}
{#              $("#id_telefconyuge").focus();#}
{#            }#}
{#            else{#}
{#                $($("#id_telefconyuge").get(0).parentNode).find(".help-text").html("");#}
{#            }#}
{##}
{#        });#}


    var letras="abcdefghyjklmnñopqrstuvwxyz";

    function tiene_letras(texto){
{#            texto = texto.toLowerCase();#}
            for(i=0; i<texto.length; i++){
              if (letras.indexOf(texto.charAt(i),0)!=-1){
                 return 1;
              }
            }
            return 0;
    }

    var letras_mayusculas="ABCDEFGHYJKLMNÑOPQRSTUVWXYZ";

        function tiene_mayusculas(texto){
           for(i=0; i<texto.length; i++){
              if (letras_mayusculas.indexOf(texto.charAt(i),0)!=-1){
                 return 1;
              }
           }
           return 0;
        }

    var caracteres_especiales="\,+-*/{}$%&[]><()=?¿:;_";

        function tiene_caracteres(texto){
           for(i=0; i<texto.length; i++){
              if (caracteres_especiales.indexOf(texto.charAt(i),0)!=-1){
                 return 1;
              }
           }
           return 0;
        }
        function solo_numeros(clave){
           var seguridad = 0;
           if (clave.length!=0){

                if (tiene_caracteres(clave)){
                     seguridad = 1;
                }
                if (tiene_mayusculas(clave)){
                     seguridad = 1;
                }
                if ( tiene_letras(clave)){
                    seguridad = 1;
                }

           }
           return seguridad
        }

{% endblock %}
{% block titulo %}Datos Familiares del Estudiante: {{ inscripcion }}{% endblock %}
{% block formaction %}/box_medical{% endblock %}
{% block formextra %}
    <input type='hidden' name='action' value='familia'/>
    <input type='hidden' name='id' value="{{ pex.id }}"/>
    <input type="hidden" name="ins" value="{{ inscripcion.id }}"/>
{% endblock %}
{% block formback %}/box_medical{% endblock %}
{% block buttonname %}Guardar Datos{% endblock %}